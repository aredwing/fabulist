# User Guide

## Some Examples

This code:

```py
from fabulist import Fabulist
fab = Fabulist()

# Print a random noun:
print(fab.get_word("noun"):

# Print a random adjective, tagged 'positive':
print(fab.get_word("adj", "#positive"):

# Print a random name, prefix with Mr./Mrs. and middle-initial:
print(fab.get_name("mr:middle"):

# Print three random terms, prefix with a/an:
for s in fab.generate_quotes("Look, $(noun:an:#animal)!", 3):
    print(s)
```

will produce something like this:

```
obligation
kind
Mrs. Julia P. Hughes
Look, a tiger
Look, an eagle!
Look, a bug!
```

## More Examples

The following output was generated by [this demo code](https://github.com/mar10/fabulist/blob/master/tests/demo.py):

```
h-3.2$ python -m tests.demo
get_verb():
-  counsel
-  oblige
-  discover
Friendly warnings:
-  Don't sell with my alarm or I'll nip your boxes.
-  Don't stretch with my obligation or I'll pacify your guarantees.
-  Don't sneak with my guide or I'll thump your deads.
Software release names:
-  detailed-bear
-  unfortunate-rabbit
-  weak-otter
Compare:
-  One gather may be far, but two gathers are farther.
-  One exchange may be tidy, but two exchanges are tidier.
-  One smile may be delayed, but two smiles are delayeder.
Names:
- My name is Mr. Isaac James
- My name is Mr. Colin Powell
- My name is Mr. Jacob K. Wilson
Introduction:
- Friends call me Harry, you can call me Mr. Harry A. May.
  May I introduce you to my wife Mrs. Rose May?
- Friends call me Keith, you can call me Mr. Keith Taylor.
  May I introduce you to my wife Mrs. Madeleine Taylor?
- Friends call me Dominic, you can call me Mr. Dominic W. Ross.
  May I introduce you to my wife Mrs. Lily Ross?
Compliments:
-  You have very reliable performances.
-  You have very intelligent leagues.
-  You have very good fingers.
Blessings:
-  May your scripts express joyfulliest.
-  May your motors dip correctliest.
-  May your wheels punish zestiliest.
Fortune cookies:
-  Confucius says: "The one who wants to inflate must greet coaxingly the communication!"
-  Impressing is better than congratulating.
-  Licking is better than scrawling.
-  Existing is better than owing.
-  Confucius says: "The one who wants to advise must smell smoothly the death!"
Functions:
-  Provide wilted digs
-  Provide miniature minutes
-  Provide loud visuals
Potential failures:
-  Shoulder restrains
-  Definition does not welcome.
-  Public develops
Causes:
-  Newspaper is too dear
-  Subject is too powerful
-  Loss is too firm
bash-3.2$ python -m tests.demo
```


## General Template Syntax

Templates are plain strings with embedded macros.
Macros are formatted like `$(...)` and contain a word-type and optionally one or more
modifiers, separated by colons (":").

`$(type[:modifier]*)`

For example `$(noun)` or `$(noun:plural:#animal)`.<br>
These macros can be embedded into strings and will be replaced by random variations:
`"Look at the beautiful $(noun:plural:#animal)!"`


### Supported Word Types

- `adj`: Adjective<br>
  Word-form modifiers: `comp`, `super`, `antonym`.<br>
  Tags: `#negative`, `#positive`
- `adv`: Adverb<br>
  Word-form modifiers: `comp`, `super`, `antonym`.<br>
  Tags: `#degree`, `#manner`, `#negative`, `#place`, `#positive`, `#time`
- `name`: Name<br>
  Word-form modifiers: `mr`, `first`, `last`, `middle`<br>
  Tags: `#f`, `#m`<br>
  Use tags to select a gender, e.g. `$(name:#f)` for female.
- `noun` Noun<br>
  Word-form modifiers: `plural`<br>
  Tags: `animal`
- `verb`: Verb<br>
  Word-form modifiers: `ing`, `past`, `pp`, `s`<br>
  Tags: -
- `@<num>`: Reference<br>
  A special type to reference another macro in the template
  (see `:=<num>` modifier below)

**NOTE:** Use uppercase word-type name for capitalized results, e.g. `$(Noun)`.

**NOTE:** The `:antonym` modifier is not yet implemented.


## Modifiers

### Word Form Modifiers

By default, words are generated in their base form ('lemma').
At most one word-type modifier may be added to change this:

- `:comp` Comparative (adj, adv)<br>
  $(adv) => "fast", $(adj:comp) => "faster"
- `:ing` (verbs only)<br>
  $(verb) => "run", $(verb:ing) => "running"
- `:past` past form (verbs only)<br>
  $(verb) => "arise", $(verb:past) => "arose"
- `:plural` (nouns only)
  $(noun) => "injury", $(noun:plural) => "injuries"
- `:pp` past perfect form (verbs only)<br>
  $(verb) => "arise", $(verb:pp) => "arisen"
- `:s` -s/-es form (verbs only)<br>
  $(verb) => "bash", $(verb:s) => "bashes"
- `:super` superlative (adj, adv)<br>
  $(adj) => "big", $(adj:super) => "biggest"


### Additional Modifiers

These modifiers can used in addition to one word-type-modifier:

- `:an`<br>
  Prepend "a " or "an "<br>
  $(noun) => "essay", $(noun:an) => "an essay"
- `:antonym`<br>
  Adverbs and adjectives only: Use the opposite word. This is especially useful in combination
  with back-references:<br>
  `"Don't be $(adj:=1). Be $(@1:antonym) instead!"`<br>
  (**NOTE:** Not yet implemented!)
- `:#<tags>`<br>
  Only allow results tagged with this category.<br>
  Pass multiple tags separated by '|', e.g.:<br>
  `$(noun:#animal)`, `$(adv:#manner|positive)`<br>
  Note that first names are tagged with `#f` and/or `#m` for female/male:<br>
  $(name:#m) => "John Doe"
- `:=<num>`<br>
  Store result for back-reference using `@<num>`.<br>
  `"One $(noun:=1) is good, but two $(@1:plural) are better."`


### Modifiers for Names

These modifiers are available for names only:

- `:first` only use first name<br>
  $(name) => "Diana Chapman", $(name:first) => "Diana"
- `:last` only use last name<br>
  $(name) => "Diana Chapman", $(name:last) => "Chapman"
- `:middle` generate a middle initial<br>
  $(name) => "Diana Chapman", $(name:middle) => "Diana S. Chapman"
- `:mr` prepend "Mr." or "Mrs."<br>
  $(name) => "Diana Chapman", $(name:mr) => "Mrs. Diana Chapman"

<!--
- `:title` prepend "Dr.", "Duke", ... (only with a certain probability)
  $(name) => "Diana Chapman", $(name:title) => "Dr. Diana Chapman"
-->

**NOTE:** If neither `:first` nor `:last` is given, it is assumed that both parts are requested.

**NOTE:**  Use `#m` or `#f` tags to restrict to male/female names:<br>
$(name:#m) => "George Clarkson", $(name:first:#f) => Cindy


## Tips & Tricks

Mix fabulist macros with standard python formatting to insert random numbers for example:

```py
import random
from fabulist import Fabulist

fab = Fabulist()
count = random.randint(2, 100)
color = random.choice(["red", "green", "yellow"])
template = "I need {count} {color} $(noun:plural).".format(count=count, color=color)
res = fab.get_quote(template)
```

Load additional custom word list from a file or static list.
Note that the data formats must match the word list type.

```py
fab = Fabulist()
# Load stock lists
fab.load()
# Add entries from custom file
fab.verb_list.load("my/verbs.txt")
# Add entries dynamically
data = [
  {"lemma": "The Beatles", "plural": False, "tags": ["band"]},
  {"lemma": "Rolling Stones", "plural": False, "tags": ["band"]},
  {"lemma": "foobar"},
  ]
for d in data:
  fab.noun_list.add_entry(d)
fab.update_data()
```


## Generating Blind Text

In addition to the above functionalities, Fabulist also features some methods to produce
blind text, also known as [Lorem Ipsum](https://en.wikipedia.org/wiki/Lorem_ipsum)

```py
fab = Fabulist()
for s in fab.get_lorem_sentences(3):
    print(s)
```
